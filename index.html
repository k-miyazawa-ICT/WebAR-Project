<!DOCTYPE html>
<html>
<head>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/jeromeetienne/AR.js@2.2.2/aframe/build/aframe-ar.min.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
  <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: true; detectionMode: mono; trackingMethod: best;'>
    <!-- カスタムマーカー（.pattファイルを使用） -->
    <a-marker preset="custom" type="pattern" url="qr-marker.patt" id="marker">
      <!-- 3Dモデル（GLB形式） -->
      <a-entity id="model" gltf-model="model.glb" position="0 0 0" scale="1 1 1"></a-entity>
    </a-marker>
    <a-entity camera></a-entity>
  </a-scene>

  <script>
    let marker = document.querySelector("#marker");
    let model = document.querySelector("#model");

    marker.addEventListener("markerFound", () => {
      console.log("✅ マーカー認識しました");
      model.setAttribute("visible", "true");  // 3Dモデルを表示
    });

    marker.addEventListener("markerLost", () => {
      console.log("❌ マーカーを見失いました");
      // model.setAttribute("visible", "false");  ← コメントアウトして、モデルを消えないようにする
    });
  </script>
</body>
</html>
